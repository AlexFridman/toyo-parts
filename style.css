
:root{
  --bg:#0b0c10;
  --card:#12151d;
  --text:#e9eef7;
  --muted:#98a2b3;
  --line:#263042;
  --accent:#7dd3fc;
  --good:#86efac;
  --warn:#fbbf24;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background:linear-gradient(180deg, #0b0c10 0%, #090a0f 100%);
  color:var(--text);
}
a{color:var(--accent); text-decoration:none}
a:hover{text-decoration:underline}
.topbar{
  position:sticky; top:0; z-index:20;
  padding:14px 16px;
  background:rgba(11,12,16,.90);
  backdrop-filter: blur(10px);
  border-bottom:1px solid var(--line);
}
.toprow{
  display:flex; gap:14px; align-items:flex-start; justify-content:space-between;
}
.homebtn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid var(--line);
  background:#0f1117;
  color:var(--text);
  font-weight:800;
  letter-spacing:.3px;
  text-transform:lowercase;
  text-decoration:none;
  line-height:1;
  min-height:38px;
}
.homebtn:hover{border-color:#3a4a66; text-decoration:none}
.top-actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:flex-end}
.brand .title{font-weight:800; font-size:18px; letter-spacing:.2px}
.brand .subtitle{color:var(--muted); font-size:12px; margin-top:2px}
.controls{display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-top:10px}
.controls input[type="search"]{
  width:min(520px, 75vw);
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#0f1117;
  color:var(--text);
  outline:none;
}
.controls select, .controls button{
  padding:10px 10px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#0f1117;
  color:var(--text);
  outline:none;
}
.controls button{cursor:pointer}
.controls button:hover{border-color:#3a4a66}
.chk{display:flex; gap:8px; align-items:center; color:var(--muted); font-size:12px}

.container{padding:18px 16px; max-width:1200px; margin:0 auto}
.stats{color:var(--muted); font-size:13px; margin-bottom:12px}
.stats.detail{display:flex; gap:12px; align-items:center; flex-wrap:wrap}
.backbtn{
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#0f1117;
  color:var(--text);
  cursor:pointer;
}
.backbtn:hover{border-color:#3a4a66}
.detailpos{color:var(--muted); font-size:13px}
.stats.detail{display:flex; align-items:center; gap:12px; flex-wrap:wrap}
.backbtn{
  padding:8px 12px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#0f1117;
  color:var(--text);
  cursor:pointer;
}
.backbtn:hover{border-color:#3a4a66}
.detailpos{color:var(--muted); font-size:13px}
.grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
  gap:12px;
}
.card{
  border:1px solid var(--line);
  background:linear-gradient(180deg, #12151d 0%, #0f1117 100%);
  border-radius:16px;
  overflow:hidden;
  box-shadow: 0 12px 30px rgba(0,0,0,.25);
}
.card .img{
  height:160px;
  background:#0b0c10;
  border-bottom:1px solid var(--line);
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--muted);
  position:relative;
}
.card img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

/* Progressive images (thumb -> full) */
.pimg{transition: filter .25s ease, opacity .25s ease}
.pimg.is-thumb{filter: blur(10px); transform: scale(1.03)}
.pimg.is-full{filter:none; transform:none}

/* Skeletons */
.skeleton{
  position:relative;
  overflow:hidden;
  border:1px solid var(--line);
  background:linear-gradient(180deg, #12151d 0%, #0f1117 100%);
  border-radius:16px;
}
.sk-img{height:160px; background:#0b0c10}
.sk-body{padding:12px}
.sk-line{height:10px; background:rgba(255,255,255,.07); border-radius:999px; margin-top:10px}
.sk-line.w70{width:70%}
.sk-line.w45{width:45%}
.sk-line.w90{width:90%}
.skeleton::after{
  content:"";
  position:absolute; inset:0;
  transform:translateX(-40%);
  background:linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent);
  animation: shimmer 1.2s infinite;
}
@keyframes shimmer{to{transform:translateX(40%)}}

/* Detail view (part page): show photo without cropping.
   Keep it shorter so the thumbnails strip is always visible on desktop.
   Zoom-on-hover provides the extra detail. */
.card.detail .img{height:min(420px, 52vh)}
.card.detail .img.zoom-wrap{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
  padding:10px;
  align-items:stretch;
  justify-items:stretch;
  position:relative;
  z-index:1;
}
.card.detail img{object-fit:contain; background:#0b0c10}
.zoom-pane{
  border:1px solid var(--line);
  border-radius:12px;
  background-color:#0b0c10;
  background-repeat:no-repeat;
  background-size:220% 220%;
  background-position:50% 50%;
  opacity:0;
  transition: opacity .15s ease;
}
.zoom-pane.on{opacity:1}

@media (max-width: 820px){
  .card.detail .img.zoom-wrap{grid-template-columns:1fr}
  .zoom-pane{display:none!important}
}
.badges{
  display:flex; gap:8px; flex-wrap:wrap;
  position:absolute; left:10px; bottom:10px;
}
.badge{
  font-size:11px;
  padding:4px 8px;
  border-radius:999px;
  background:rgba(0,0,0,.45);
  border:1px solid rgba(255,255,255,.12);
}
.badge.good{color:var(--good)}
.badge.warn{color:var(--warn)}

.card .body{padding:12px}
.hrow{display:flex; align-items:flex-start; justify-content:space-between; gap:10px}
.hrow .name{font-weight:750; font-size:14px; line-height:1.2}
.hrow .num{color:var(--muted); font-size:12px; white-space:nowrap}
.meta{margin-top:8px; color:var(--muted); font-size:12px; line-height:1.35}
.meta b{color:#cbd5e1; font-weight:650}
.desc{margin-top:10px; font-size:12px; line-height:1.35; color:#cbd5e1}
.desc.warnline{ border-left:3px solid rgba(255,98,0,.35); padding-left:10px; }
.kv{margin-top:10px; display:flex; flex-wrap:wrap; gap:8px}
.kv span{
  font-size:11px; color:var(--muted);
  border:1px dashed rgba(255,255,255,.14);
  padding:4px 8px; border-radius:999px;
}

.footer{
  border-top:1px solid var(--line);
  padding:14px 16px;
  color:var(--muted);
  font-size:12px;
}
.dot{margin:0 8px; color:#3a4a66}
dialog{
  border:1px solid var(--line);
  background:#0f1117;
  color:var(--text);
  border-radius:16px;
  padding:16px 16px 10px 16px;
  width:min(680px, 92vw);
}
dialog::backdrop{background:rgba(0,0,0,.6)}
.dlg-actions{display:flex; justify-content:flex-end; padding-top:6px}
.muted{color:var(--muted)}
code{background:#0b0c10; border:1px solid var(--line); padding:2px 6px; border-radius:8px}


.callbtn{
  padding:10px 12px;
  border-radius:12px;
  border:1px solid rgba(125,211,252,.6);
  background:rgba(125,211,252,.08);
  color:var(--accent);
  font-weight:650;
  white-space:nowrap;
}
.callbtn:hover{border-color:rgba(125,211,252,1); background:rgba(125,211,252,.14); text-decoration:none}

.wabtn,.tgbtn{
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#0f1117;
  color:var(--text);
  font-weight:650;
  white-space:nowrap;
}
.wabtn:hover,.tgbtn:hover{border-color:#3a4a66; text-decoration:none}

.wabtn{border-color:rgba(134,239,172,.4); background:rgba(134,239,172,.06)}
.wabtn:hover{border-color:rgba(134,239,172,.95); background:rgba(134,239,172,.10)}

.tgbtn{border-color:rgba(125,211,252,.4); background:rgba(125,211,252,.06)}
.tgbtn:hover{border-color:rgba(125,211,252,.95); background:rgba(125,211,252,.10)}

.ghead{display:flex; align-items:flex-start; justify-content:space-between; gap:10px; margin-bottom:10px}
.gtitle{font-weight:800; font-size:14px}
.gsub{color:var(--muted); font-size:12px; margin-top:2px}
.gclose{cursor:pointer; padding:8px 10px; border-radius:12px; border:1px solid var(--line); background:#0b0c10; color:var(--text)}
.gbody{display:flex; flex-direction:column; gap:10px}
.gmain{width:100%; max-height:60vh; object-fit:contain; background:#0b0c10; border:1px solid var(--line); border-radius:14px}
.gthumbs{display:flex; gap:8px; flex-wrap:wrap}
.gthumbs img{width:92px; height:68px; object-fit:cover; border-radius:10px; border:1px solid var(--line); cursor:pointer; opacity:.85}
.gthumbs img:hover{opacity:1; border-color:#3a4a66}

a.name{color:var(--text); text-decoration:none}
a.name:hover{text-decoration:underline}

.langbtn{
  padding:10px 12px;
  border-radius:12px;
  border:1px solid rgba(134,239,172,.55);
  background:rgba(134,239,172,.10);
  color:var(--text);
  font-weight:800;
  cursor:pointer;
  white-space:nowrap;
}

.langbtn:hover{border-color:rgba(134,239,172,1); background:rgba(134,239,172,.18);}

.filtersbtn{
  padding:10px 12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.06);
  color:var(--text);
  font-weight:900;
  cursor:pointer;
  white-space:nowrap;
}
.filtersbtn:hover{border-color:#3a4a66}

/* Mobile bottom actions */
.mobile-actions{display:none}
.mobile-actions .mact{
  display:flex; align-items:center; justify-content:center;
  width:44px; height:44px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(15,17,23,.92);
  color:var(--text);
  text-decoration:none;
  font-size:18px;
}
.mobile-actions .mact.call{border-color:rgba(125,211,252,.6)}
.mobile-actions .mact.wa{border-color:rgba(134,239,172,.55)}
.mobile-actions .mact.tg{border-color:rgba(125,211,252,.55)}

/* Mobile / small screens */
@media (max-width: 640px){
  .topbar{padding:12px 12px}
  .toprow{flex-direction:column; gap:10px}
  .brand{width:100%}
  .brand .title{font-size:18px}
  .brand .subtitle{display:none}
  .top-actions{width:100%; justify-content:space-between}
  /* Keep only the most important button visible in the header on mobile */
  .wabtn, .tgbtn{display:none}
  /* Make header compact: hide filters by default, keep call visible */
  .controls{width:100%; gap:8px; display:none}
  .topbar.open .controls{display:flex}
  .controls input[type="search"]{width:100%; min-width:0}
  .controls select{flex:1; min-width:140px}
  .controls button{padding:12px 12px}
  .callbtn, .langbtn, .wabtn, .tgbtn{padding:12px 12px}
  .chk{width:100%}
  .container{padding:14px 12px}
  .grid{grid-template-columns: 1fr; gap:10px}
  .card .img{height:190px}
  .gthumbs img{width:84px; height:64px}
  dialog#galleryDlg{
    width: calc(100vw - 24px);
    max-width: none;
    border-radius: 18px;
  }
  dialog#galleryDlg .gmain{max-height:55vh}
  /* leave space for bottom action bar */
  body{padding-bottom:74px}
  .mobile-actions{display:flex}
}

@media (max-width: 380px){
  .controls select{min-width:120px}
  .card .img{height:170px}
}

/* Detail thumbnails strip */
.thumbs{
  display:flex;
  gap:8px;
  padding:10px 12px;
  overflow-x:auto;
  -webkit-overflow-scrolling: touch;
  border-top:1px solid var(--line);
  background:#0f1117;
  position:relative;
  z-index:2;
}
.thumb{
  border:1px solid rgba(255,255,255,0.15);
  background:rgba(255,255,255,0.04);
  border-radius:10px;
  padding:2px;
  cursor:pointer;
  flex:0 0 auto;
}
.thumb img{
  display:block;
  width:72px;
  height:54px;
  object-fit:cover;
  border-radius:8px;
}
.thumb.active{
  border-color: rgba(255,255,255,0.6);
}


/* Emphasize internal part number */
.hrow .num{
  color: #e5e7eb;
  font-size: 15px;
  font-weight: 900;
  padding: 4px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.06);
}
.card.detail .hrow .num{font-size:18px; padding:6px 12px}

.stats.detail{
  font-size:16px;
  font-weight:800;
  color:#e5e7eb;
}

/* Footer contacts layout */
.footer-inner{display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap}
.footer-contacts{display:flex; gap:10px; align-items:center; flex-wrap:wrap}

/* Gallery: fullscreen on mobile */
@media (max-width: 640px){
  dialog{width:100vw; height:100vh; max-width:none; border-radius:0; padding:12px}
  .gmain{max-height:62vh}
}
.footer-contacts a{color:var(--text); text-decoration:none; border-bottom:1px solid rgba(125,211,252,.0)}
.footer-contacts a:hover{color:var(--accent); text-decoration:none}

@media (max-width: 640px){
  .footer-inner{flex-direction:column; align-items:flex-start}
  .footer-contacts{gap:8px}
  .hrow .num{font-size:16px}
}



/* ===== Detail page layout: keep thumbs below photo row (no overlap) ===== */
.detail-page .detail-wrap{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  align-items: start;
}

.detail-page .detail-left{
  display: flex;
  flex-direction: column;
  gap: 10px;
  min-width: 0;
}

.detail-page .photo-row{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  align-items: stretch;
  min-width: 0;
}

.detail-page .main-photo-wrap{
  position: relative;
  height: min(52vh, 420px);
  border-radius: 16px;
  overflow: hidden;
  background: #0b0f14;
  border: 1px solid rgba(255,255,255,0.06);
  min-width: 0;
}

.detail-page .main-photo-wrap img{
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
}

.detail-page .zoom-view{
  height: min(52vh, 420px);
  border-radius: 16px;
  overflow: hidden;
  background: #0b0f14;
  border: 1px solid rgba(255,255,255,0.06);
  min-width: 0;
}

.detail-page .zoom-view img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  transform-origin: 0 0;
  will-change: transform;
  display: block;
}

.detail-page .thumbs-row{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  padding: 10px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.06);
  background: rgba(10,14,20,0.65);
}

.detail-page .thumb{
  width: 72px;
  height: 72px;
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.10);
  background: #0b0f14;
  cursor: pointer;
  flex: 0 0 auto;
}

.detail-page .thumb img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.detail-page .thumb.is-active{
  outline: 2px solid rgba(255,255,255,0.55);
  outline-offset: 2px;
}

/* Mobile: stack columns, keep thumbs right under main image */
@media (max-width: 900px){
  .detail-page .detail-wrap{
    grid-template-columns: 1fr;
  }
  .detail-page .photo-row{
    grid-template-columns: 1fr;
  }
  .detail-page .main-photo-wrap,
  .detail-page .zoom-view{
    height: min(55vh, 380px);
  }
  .detail-page .zoom-view{
    display: none; /* on mobile we hide zoom panel; pinch/OS zoom is enough */
  }
  .detail-page .thumb{
    width: 64px;
    height: 64px;
  }
}

/* Home button title */
#homeBtn .home-title{ font-weight: 700; }
#homeBtn{ display:inline-flex; align-items:center; gap:8px; max-width: 100%; }
#homeBtn .home-title{ white-space: nowrap; }
@media (max-width: 520px){
  #homeBtn .home-title{ white-space: normal; line-height: 1.1; }
}

/* ===== Theme ===== */
:root{
  --bg:#0b0f14;
  --panel:#0f1520;
  --text:#e8edf5;
  --muted:#a9b4c4;
  --border:rgba(255,255,255,0.08);
  --shadow: 0 10px 30px rgba(0,0,0,0.35);
  --accent: rgba(255,255,255,0.85);
  --chip: rgba(255,255,255,0.06);
}
[data-theme="light"]{
  --bg:#f6f7fb;
  --panel:#ffffff;
  --text:#0b1320;
  --muted:#344054;
  --border:rgba(15,23,42,0.14);
  --shadow: 0 10px 24px rgba(20,30,60,0.10);
  --accent:#0b1320;
  --chip: rgba(15,23,42,0.06);
}
body{ background: var(--bg); color: var(--text); }
.card, .panel, header, footer{ background: var(--panel); border-color: var(--border); box-shadow: var(--shadow); }
a{ color: var(--accent); }
.muted{ color: var(--muted); }

/* ===== Micro animations ===== */
.card{ transition: transform 140ms ease, box-shadow 140ms ease; }
.card:hover{ transform: translateY(-2px); }
button, .btn, .chip, select, input{ transition: background 140ms ease, border-color 140ms ease, transform 140ms ease; }
button:active, .btn:active{ transform: translateY(1px); }

/* ===== Skeleton ===== */
.skeleton{
  background: linear-gradient(90deg, rgba(255,255,255,0.04), rgba(255,255,255,0.10), rgba(255,255,255,0.04));
  background-size: 200% 100%;
  animation: sk 1.2s ease-in-out infinite;
  border-radius: 14px;
}
[data-theme="light"] .skeleton{
  background: linear-gradient(90deg, rgba(0,0,0,0.04), rgba(0,0,0,0.10), rgba(0,0,0,0.04));
  background-size: 200% 100%;
}
@keyframes sk{
  0%{ background-position: 200% 0; }
  100%{ background-position: -200% 0; }
}
.skel-card{ padding: 12px; border:1px solid var(--border); background: var(--panel); box-shadow: var(--shadow); border-radius: 18px; }
.skel-img{ height: 160px; border-radius: 14px; margin-bottom: 10px; }
.skel-line{ height: 12px; margin: 8px 0; border-radius: 10px; }
.skel-line.w50{ width: 50%; }
.skel-line.w70{ width: 70%; }
.skel-line.w90{ width: 90%; }

/* ===== Quick preview (desktop hover) ===== */
.quick-preview{
  position: fixed;
  z-index: 9999;
  width: 360px;
  max-width: calc(100vw - 24px);
  border: 1px solid var(--border);
  border-radius: 16px;
  overflow: hidden;
  background: var(--panel);
  box-shadow: var(--shadow);
  pointer-events: none;
  opacity: 0;
  transform: translateY(6px);
  transition: opacity 120ms ease, transform 120ms ease;
}
.quick-preview.on{
  opacity: 1;
  transform: translateY(0);
}
.quick-preview .qp-img{ width:100%; height: 220px; background: var(--bg); display:block; object-fit: cover; }
.quick-preview .qp-body{ padding: 10px 12px; }
.quick-preview .qp-title{ font-weight: 700; font-size: 14px; margin-bottom: 6px; }
.quick-preview .qp-meta{ font-size: 12px; color: var(--muted); display:flex; gap:10px; flex-wrap:wrap; }

/* ===== Bottom action bar (mobile) ===== */
.mobile-actions{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  padding: 10px 12px calc(10px + env(safe-area-inset-bottom));
  display: none;
  gap: 10px;
  background: color-mix(in oklab, var(--panel) 90%, transparent);
  border-top: 1px solid var(--border);
  backdrop-filter: blur(10px);
  z-index: 9998;
}
.mobile-actions a{
  flex: 1 1 auto;
  text-decoration: none;
  text-align: center;
  padding: 12px 10px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: var(--chip);
  color: var(--text);
  font-weight: 700;
}
@media (max-width: 900px){
  .mobile-actions{ display: flex; }
  body{ padding-bottom: 74px; } /* leave room for bar */
}

/* Light theme contrast fixes */
header, footer{ color: var(--text); }
header a, footer a{ color: var(--text); }
small, .sub, .hint, .help, .meta, .desc, .kv, .kv div, .filters label{ color: var(--muted); }
.card .name, .card .num, .card b{ color: var(--text); }
input, select{ color: var(--text); background: var(--chip); border: 1px solid var(--border); }
input::placeholder{ color: color-mix(in oklab, var(--muted) 80%, transparent); }

/* Sticky footer */
html, body{ height: 100%; }
body{ min-height: 100vh; display: flex; flex-direction: column; }
#root{ flex: 1 1 auto; }
footer{ margin-top: auto; }

/* Theme button mobile placement */
#themeBtn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  padding: 0;
  border-radius: 12px;
}

@media (max-width: 600px){
  #themeBtn{
    position: fixed;
    top: 10px;
    right: 10px;
    z-index: 10000;
  }
}

/* Social icons */
.icon-wa, .icon-tg{
  display: inline-block;
  width: 18px;
  height: 18px;
  vertical-align: -3px;
  margin-right: 6px;
  background-size: contain;
  background-repeat: no-repeat;
}

.icon-wa{
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path fill="%2300E676" d="M16 2.67C8.82 2.67 3 8.49 3 15.67c0 2.81.76 5.55 2.2 7.95L3 29l5.6-2.14c2.29 1.26 4.88 1.93 7.4 1.93 7.18 0 13-5.82 13-13s-5.82-13-13-13zm0 23.33c-2.33 0-4.61-.63-6.59-1.82l-.47-.28-3.32 1.27 1.28-3.23-.3-.5c-1.33-2.03-2.04-4.39-2.04-6.8 0-6.99 5.69-12.67 12.67-12.67S28.67 8.68 28.67 15.67 22.99 26 16 26zm7.27-9.87c-.4-.2-2.35-1.16-2.71-1.29-.36-.13-.63-.2-.89.2-.27.4-1.02 1.29-1.25 1.55-.23.27-.46.3-.86.1-.4-.2-1.69-.62-3.22-1.98-1.19-1.06-1.99-2.37-2.22-2.77-.23-.4-.02-.62.17-.82.18-.18.4-.46.6-.69.2-.23.27-.4.4-.66.13-.27.07-.5-.03-.7-.1-.2-.89-2.14-1.22-2.93-.32-.77-.65-.66-.89-.67-.23-.01-.5-.01-.76-.01s-.7.1-1.06.5c-.36.4-1.4 1.37-1.4 3.34 0 1.97 1.43 3.87 1.63 4.14.2.27 2.81 4.29 6.8 6.02.95.41 1.69.65 2.27.83.95.3 1.82.26 2.51.16.77-.11 2.35-.96 2.68-1.89.33-.93.33-1.72.23-1.89-.1-.17-.36-.27-.76-.47z"/></svg>');
}

.icon-tg{
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path fill="%2329B6F6" d="M29.33 4.67L3.33 14.33c-1.13.44-1.12 1.04-.21 1.32l6.52 2.04 15.11-9.53c.71-.43 1.36-.2.83.23l-12.25 11.05-.46 6.87c.67 0 .97-.31 1.35-.67l3.25-3.16 6.76 4.99c1.25.69 2.15.34 2.46-1.16l4.46-20.96c.45-1.84-.7-2.68-2.27-2.03z"/></svg>');
}

/* iOS-style bottom sheet */
.sheet-overlay{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.35);
  opacity: 0;
  pointer-events: none;
  transition: opacity 180ms ease;
  z-index: 10001;
}
.sheet-overlay.on{
  opacity: 1;
  pointer-events: auto;
}

.bottom-sheet{
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: -520px;
  width: min(520px, calc(100vw - 18px));
  max-height: min(70vh, 520px);
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 22px 22px 18px 18px;
  box-shadow: var(--shadow);
  z-index: 10002;
  transition: bottom 220ms ease;
  overflow: hidden;
  touch-action: none;
}
.bottom-sheet.on{
  bottom: 10px;
}
.sheet-handle{
  width: 52px;
  height: 5px;
  border-radius: 999px;
  background: color-mix(in oklab, var(--muted) 35%, transparent);
  margin: 10px auto 6px auto;
}
.sheet-header{
  display:flex;
  align-items:center;
  justify-content: space-between;
  padding: 6px 12px 10px 14px;
}
.sheet-title{
  font-weight: 800;
  letter-spacing: 0.2px;
}
.sheet-close{
  width: 36px;
  height: 36px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--chip);
  color: var(--text);
}
.sheet-body{
  padding: 8px 12px 14px 12px;
  display:flex;
  flex-direction: column;
  gap: 10px;
}
.sheet-action{
  display:flex;
  align-items:center;
  gap: 12px;
  padding: 14px 12px;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: var(--chip);
  text-decoration: none;
  color: var(--text);
  font-weight: 800;
}
.sheet-action:active{
  transform: translateY(1px);
}
.sa-ico{
  width: 28px;
  height: 28px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.sa-txt{
  flex: 1 1 auto;
}
body.sheet-open{ overflow: hidden; }

/* Header contrast fixes */
header{
  background: var(--panel);
  color: var(--text);
}
header *{ color: var(--text); }
[data-theme="light"] header{
  background: #ffffff;
  border-bottom: 1px solid var(--border);
}
[data-theme="light"] header a,
[data-theme="light"] header button,
[data-theme="light"] header .btn{
  color: var(--text) !important;
}

[data-theme="light"] #homeBtn{ color: var(--text) !important; }

/* Footer safe area for mobile actions */
@media (max-width: 900px){
  footer{
    padding-bottom: calc(14px + 74px + env(safe-area-inset-bottom));
  }
  #root{
    padding-bottom: 10px;
  }
}

/* Detail thumbs emphasis */
.card.detail .thumbs-row{
  border-top: 1px solid var(--border);
  padding-top: 10px;
  margin-top: 6px;
}
.card.detail .thumb{
  outline: none;
}

/* Mobile detail zoom */
.detail-page .main-photo-wrap{ position: relative; overflow: hidden; border-radius: 16px; }
.detail-page img.detail-main{ touch-action: none; user-select: none; -webkit-user-drag: none; }
.detail-page .main-photo-wrap.zoomed img.detail-main{
  cursor: grab;
}
.detail-page .zoom-hint{
  position: absolute;
  left: 10px; bottom: 10px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in oklab, var(--panel) 80%, transparent);
  color: var(--text);
  font-size: 12px;
  font-weight: 700;
  backdrop-filter: blur(10px);
  pointer-events: none;
  opacity: 0.9;
}
@media (hover: hover) and (pointer: fine){
  .detail-page .zoom-hint{ display:none; }
}
